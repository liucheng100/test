import{_ as k,av as M,o as u,c as g,d as s,z as x,p as C,i as T,aS as W,aT as z,aU as E,E as c,aK as $,aL as N,A as O,t as y,ae as l,as as b,af as a,aV as A,ay as I,f as L,B as D,P as w,ap as G,a as v,r as H,aW as Z,j,w as P,g as q,b as K,k as R}from"./index.b6fd4dc1.js";/* empty css                   */import{a as F,l as J,g as Q}from"./login.9e231921.js";import"./index.dcc0ffaa.js";const m=t=>(C("data-v-286506f4"),t=t(),T(),t),X={class:"advertise"},Y=m(()=>s("div",{class:"left"},[s("img",{src:W,class:"icon"}),s("p",{class:"info"},"\u7B2C\u5341\u56DB\u5C4A\u65B9\u5BF8\xB7\u6D41\u5E74\u6444\u5F71\u5927\u8D5B\u300C\u590D\u82CF\u300D")],-1)),ss={class:"right"},es=m(()=>s("img",{src:z,class:"icon"},null,-1)),os=m(()=>s("p",{class:"info"},"\u8FD8\u670924\u5929\u622A\u7A3F",-1)),ts=m(()=>s("img",{src:E,class:"icon"},null,-1)),ns=m(()=>s("p",{class:"to-pull-text"},"\u53BB\u6295\u7A3F",-1)),is=[ts,ns],ls={__name:"Advertise",setup(t){const e=M();function r(){x()?e.push("/PC/submit"):alert("\u8BF7\u5148\u767B\u5F55!")}return(_,o)=>(u(),g("div",X,[Y,s("div",ss,[es,os,s("div",{class:"to-pull",onClick:o[0]||(o[0]=d=>r())},is)])]))}};var B=k(ls,[["__scopeId","data-v-286506f4"]]);const as={emits:["tokenGet"],data(){return{ON:!1,account:"",password:"",loginLoading:!1,loginType:"login"}},methods:{changeWay(t){switch(t){case"loginByTWT":{this.loginType="login";return}case"loginByOther":{this.loginType="loginA";return}}},toLogin(t){if(!this.account){c.warning("\u8BF7\u8F93\u5165\u60A8\u7684\u8D26\u53F7");return}if(!this.password){c.warning("\u8BF7\u8F93\u5165\u60A8\u7684\u5BC6\u7801");return}if(!this.ON){c.warning("\u8BF7\u9605\u8BFB\u5E76\u540C\u610F\u9690\u79C1\u653F\u7B56");return}this.loginLoading=!0,t=="loginA"?F({username:this.account,password:this.password}).then(({data:e,...r})=>{e.code===0?(c.success("\u767B\u5F55\u6210\u529F"),$(e.data.userId),N(e.data.isAdmin),O(r.headers.token),this.loginLoading=!1,this.$router.push(this.$route.query.from||"/")):(c.error(e.description+": "+e.msg),this.password="",this.loginLoading=!1)}).catch(()=>{c.error("\u767B\u5F55\u5931\u8D25"),this.loginLoading=!1}):t=="login"&&J({username:this.account,password:this.password}).then(({data:e,...r})=>{e.code===0?(c.success("\u767B\u5F55\u6210\u529F"),$(e.data.userId),N(e.data.isAdmin),O(r.headers.token),this.loginLoading=!1,location.reload()):(c.error(e.description+": "+e.msg),this.password="",this.loginLoading=!1)}).catch(()=>{c.error("\u767B\u5F55\u5931\u8D25"),this.loginLoading=!1})},checkEmail(){return!/^[a-zA-Z0-9_-]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/.test(this.account)&&this.account?(c.info("\u8BF7\u8F93\u5165\u6B63\u786E\u7684\u90AE\u7BB1\u683C\u5F0F"),!1):!0}},created(){},mounted(){x()&&this.$emit("tokenGet")}},h=t=>(C("data-v-1bd85a5f"),t=t(),T(),t),rs=["onClick"],cs={class:"input-box"},_s={class:"input-title"},ps=["placeholder"],us={class:"input-box"},ds=h(()=>s("p",{class:"input-title"},y("\u5BC6\u7801"),-1)),gs={key:0,class:"other-bar"},vs={class:"proto"},ms=h(()=>s("p",null,"\u6211\u5DF2\u9605\u8BFB\u5E76\u540C\u610F",-1)),hs=h(()=>s("p",null,"\u9690\u79C1\u653F\u7B56",-1)),fs={class:"forget"},ys={key:1,class:"proto"},ks=h(()=>s("p",null,"\u6211\u5DF2\u9605\u8BFB\u5E76\u540C\u610F",-1)),ws=h(()=>s("p",null,"\u9690\u79C1\u653F\u7B56",-1)),xs={class:"other-bar"},Cs={class:"forget bottom-text"},Ts={class:"signup bottom-text"};function $s(t,e,r,_,o,d){return u(),g("div",{class:"login",onClick:D(n=>0,["stop"])},[s("div",cs,[s("p",_s,y(o.loginType=="login"?"\u5929\u5916\u5929\u8D26\u6237\u540D":"\u65B9\u5BF8\u6D41\u5E74\u8D26\u53F7"),1),l(s("input",{type:"text",class:"input-self","onUpdate:modelValue":e[0]||(e[0]=n=>o.account=n),placeholder:o.loginType=="login"?"\u5B66\u53F7/\u6635\u79F0/\u624B\u673A\u53F7...":"\u8BF7\u8F93\u5165\u90AE\u7BB1..."},null,8,ps),[[b,o.account]])]),s("div",us,[ds,l(s("input",{type:"text",class:"input-self","onUpdate:modelValue":e[1]||(e[1]=n=>o.password=n),placeholder:"\u8BF7\u8F93\u5165\u5BC6\u7801..."},null,512),[[b,o.password]])]),o.loginType=="loginA"?(u(),g("div",gs,[s("div",vs,[l(s("img",{src:A,onClick:e[2]||(e[2]=n=>o.ON=!o.ON),class:"img"},null,512),[[a,!o.ON]]),l(s("img",{src:I,onClick:e[3]||(e[3]=n=>o.ON=!o.ON),class:"img"},null,512),[[a,o.ON]]),ms,hs]),l(s("p",fs,"\u5FD8\u8BB0\u5BC6\u7801",512),[[a,o.loginType=="loginA"]])])):L("",!0),o.loginType=="login"?(u(),g("div",ys,[l(s("img",{src:A,onClick:e[4]||(e[4]=n=>o.ON=!o.ON),class:"img"},null,512),[[a,!o.ON]]),l(s("img",{src:I,onClick:e[5]||(e[5]=n=>o.ON=!o.ON),class:"img"},null,512),[[a,o.ON]]),ks,ws])):L("",!0),s("button",{class:"button",onClick:e[6]||(e[6]=n=>d.toLogin(o.loginType))},"\u767B\u5F55"),s("div",xs,[s("div",{class:"other-way bottom-text",onClick:e[7]||(e[7]=n=>d.changeWay(o.loginType=="login"?"loginByOther":"loginByTWT"))},y(o.loginType=="login"?"\u6CA1\u6709\u5929\u5916\u5929\u8D26\u53F7\uFF1F":"\u5929\u5916\u5929\u8D26\u53F7\u767B\u5F55"),1),l(s("p",Cs,"\u5FD8\u8BB0\u5BC6\u7801",512),[[a,o.loginType=="login"]]),l(s("p",Ts,"\u6CE8\u518C\u65B9\u5BF8\u6D41\u5E74",512),[[a,o.loginType=="loginA"]])])],8,rs)}var S=k(as,[["render",$s],["__scopeId","data-v-1bd85a5f"]]);const U=t=>(C("data-v-364e0cde"),t=t(),T(),t),Ns={class:"nav-header"},Os=U(()=>s("img",{src:Z,class:"more"},null,-1)),bs={class:"second-box-nav"},As=U(()=>s("p",{class:"go-to-phone"},"\u524D\u5F80\u624B\u673A\u7AEF\u6D4F\u89C8\u4F5C\u54C1",-1)),Is={class:"personal-center"},Ls={__name:"NavHeader_PC",setup(t){const e=w(""),r="",_=w(!1),o=w(!1);x()&&Q(G()).then(f=>e.value=f.data.username);function d(){o.value=!o.value,console.log(o.value)}function n(){H(),location.reload()}return(f,i)=>(u(),g("div",Ns,[Os,s("div",bs,[As,l(s("p",{class:"login-text",onClick:i[0]||(i[0]=p=>o.value=!o.value)},"\u767B\u5F55",512),[[a,!_.value]]),l(s("p",Is,"\u4E2A\u4EBA\u4E2D\u5FC3",512),[[a,_.value]]),l(s("p",{class:"username",onClick:i[1]||(i[1]=p=>n()),onMouseenter:i[2]||(i[2]=p=>(r=e.value,e.value="\u9000\u51FA\u767B\u5F55")),onMouseleave:i[3]||(i[3]=p=>e.value=r)},y(e.value),545),[[a,_.value]])]),l(s("div",{class:"mask",onClick:i[5]||(i[5]=p=>d())},[v(S,{onTokenGet:i[4]||(i[4]=p=>_.value=!0)})],512),[[a,o.value]])]))}};var V=k(Ls,[["__scopeId","data-v-364e0cde"]]);const Ps={components:[V,B,S],data(){return{is_login:!1}},methods:{login(){}}},Bs={class:"home"},Ss={class:"container",style:{position:"relative",height:"100%",width:"100%",perspective:"1200px"}};function Us(t,e,r,_,o,d){const n=V,f=j("router-view"),i=B;return u(),g("div",Bs,[v(n),s("div",Ss,[v(f,{class:"router-view",style:{position:"absolute",height:"100%",width:"100%"}},{default:P(({Component:p})=>[v(q,{name:"fade"},{default:P(()=>[(u(),K(R(p),{class:"components"}))]),_:2},1024)]),_:1})]),v(i)])}var Es=k(Ps,[["render",Us],["__scopeId","data-v-0d70222f"]]);export{Es as default};
